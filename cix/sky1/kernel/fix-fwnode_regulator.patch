diff --git a/drivers/regulator/fwnode_regulator.c b/drivers/regulator/fwnode_regulator.c
index 6a5c228835dc..1159860caf46 100644
--- a/drivers/regulator/fwnode_regulator.c
+++ b/drivers/regulator/fwnode_regulator.c
@@ -93,7 +93,7 @@ static int fwnode_get_regulation_constraints(struct device *dev,
 
 	n_phandles = fwnode_count_reference_with_args(np, "regulator-coupled-with",
 						NULL);
-	if (IS_ERR(n_phandles))
+	if (IS_ERR(ERR_PTR(n_phandles)))
 		n_phandles = 0;
 
 	n_phandles = max(n_phandles, 0);
